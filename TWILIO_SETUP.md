# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Twilio –¥–ª—è SMS-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

Twilio –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ SMS —Å –∫–æ–¥–∞–º–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É.

## –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç Twilio

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.twilio.com/try-twilio
2. –ù–∞–∂–º–∏—Ç–µ **"Sign up"** (–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - First Name (–ò–º—è)
   - Last Name (–§–∞–º–∏–ª–∏—è)
   - Email
   - Password
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

## –®–∞–≥ 2: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞

1. –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ Twilio –ø–æ–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
2. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `+7XXXXXXXXXX` (–¥–ª—è –†–æ—Å—Å–∏–∏)
3. –ü–æ–ª—É—á–∏—Ç–µ SMS —Å –∫–æ–¥–æ–º
4. –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

## –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### Account SID –∏ Auth Token

1. –í –¥–∞—à–±–æ—Ä–¥–µ Twilio –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Account Info"**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Account SID** - —Å—Ç—Ä–æ–∫–∞ —Ç–∏–ø–∞ `ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`
   - **Auth Token** - –Ω–∞–∂–º–∏—Ç–µ "Show" –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ

### –ü–æ–ª—É—á–∏—Ç–µ Twilio –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é: **Phone Numbers** ‚Üí **Manage** ‚Üí **Buy a number**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ USA)
3. –ù–∞–∂–º–∏—Ç–µ **"Search"**
4. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π –Ω–æ–º–µ—Ä —Å SMS capability
5. –ù–∞–∂–º–∏—Ç–µ **"Buy"**

‚ö†Ô∏è **–í–∞–∂–Ω–æ –¥–ª—è Trial –∞–∫–∫–∞—É–Ω—Ç–∞:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π trial –∞–∫–∫–∞—É–Ω—Ç –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å SMS —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞
- –ù–∞ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –±—É–¥–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å "Sent from your Twilio trial account"

## –®–∞–≥ 4: –î–æ–±–∞–≤—å—Ç–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ (–¥–ª—è Trial)

–ï—Å–ª–∏ —É –≤–∞—Å Trial –∞–∫–∫–∞—É–Ω—Ç:

1. **Phone Numbers** ‚Üí **Manage** ‚Üí **Verified Caller IDs**
2. –ù–∞–∂–º–∏—Ç–µ **"+"** (Add a new Caller ID)
3. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å SMS
4. –í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: **SMS**
5. –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ
6. –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å SMS –Ω–∞ —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä

## –®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ `server/.env` –∏ –æ–±–Ω–æ–≤–∏—Ç–µ:

```env
TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="–≤–∞—à-auth-token"
TWILIO_PHONE_NUMBER="+12345678900"
```

–ì–¥–µ:
- `TWILIO_ACCOUNT_SID` - –≤–∞—à Account SID
- `TWILIO_AUTH_TOKEN` - –≤–∞—à Auth Token
- `TWILIO_PHONE_NUMBER` - –∫—É–ø–ª–µ–Ω–Ω—ã–π Twilio –Ω–æ–º–µ—Ä (—Å +)

## –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

–°–∫–∞–∂–∏—Ç–µ –º–Ω–µ "–æ–±–Ω–æ–≤–∏ —Å–µ—Ä–≤–µ—Ä–∞" –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
cd server
npm run dev
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
2. –°–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥
3. Twilio –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SMS —Å –∫–æ–¥–æ–º
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–æ–¥
5. –ï—Å–ª–∏ –∫–æ–¥ –≤–µ—Ä–Ω—ã–π - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ):

```typescript
// –û—Ç–ø—Ä–∞–≤–∫–∞ SMS
import twilio from 'twilio';

const client = twilio(
  process.env.TWILIO_ACCOUNT_SID,
  process.env.TWILIO_AUTH_TOKEN
);

await client.messages.create({
  body: `–í–∞—à –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: ${code}`,
  from: process.env.TWILIO_PHONE_NUMBER,
  to: phoneNumber
});
```

## Upgrade –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–±—Ä–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Trial:

1. **Billing** ‚Üí **Upgrade your account**
2. –î–æ–±–∞–≤—å—Ç–µ –ø–ª–∞—Ç–µ–∂–Ω—É—é –∫–∞—Ä—Ç—É
3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å ($20 –º–∏–Ω–∏–º—É–º)

**–°—Ç–æ–∏–º–æ—Å—Ç—å:**
- SMS –≤ –°–®–ê: $0.0075 –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
- SMS –≤ –†–æ—Å—Å–∏—é: $0.0750 –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: $1/–º–µ—Å—è—Ü

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã Twilio

–ï—Å–ª–∏ Twilio –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç:

### 1. **Vonage (Nexmo)**
- https://www.vonage.com
- –ü–æ—Ö–æ–∂–∏–π API
- $0.0057 –∑–∞ SMS –≤ –°–®–ê

### 2. **MessageBird**
- https://www.messagebird.com
- –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è
- –•–æ—Ä–æ—à–∏–µ —Ü–µ–Ω—ã –¥–ª—è –ï–≤—Ä–æ–ø—ã

### 3. **SMS.ru** (–¥–ª—è –†–æ—Å—Å–∏–∏)
- https://sms.ru
- –†–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å
- –û—Ç 1.55‚ÇΩ –∑–∞ SMS

### 4. **SMSC.ru** (–¥–ª—è –†–æ—Å—Å–∏–∏)
- https://smsc.ru
- –î–µ—à–µ–≤–ª–µ –¥–ª—è –†–§
- –û—Ç 1‚ÇΩ –∑–∞ SMS

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ SMS

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å SMS –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥

–í `server/src/routes/auth.ts` –¥–æ–±–∞–≤—å—Ç–µ:

```typescript
// –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ - –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–¥ "123456"
if (process.env.NODE_ENV === 'development' && code === '123456') {
  // –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å

```typescript
if (process.env.NODE_ENV === 'development') {
  console.log(`SMS Code for ${phoneNumber}: ${code}`);
  // –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–µ–∞–ª—å–Ω—ã–π SMS
} else {
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ Twilio
  await client.messages.create({...});
}
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173
2. –ù–∞–∂–º–∏—Ç–µ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"
3. –í—ã–±–µ—Ä–∏—Ç–µ "–¢–µ–ª–µ—Ñ–æ–Ω"
4. –í–≤–µ–¥–∏—Ç–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä
5. –î–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ SMS —Å –∫–æ–¥–æ–º
6. –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

## Troubleshooting

### –û—à–∏–±–∫–∞: "Unable to create record"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Account SID –∏ Auth Token
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤ .env

### –û—à–∏–±–∫–∞: "The number is unverified"
- –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä –≤ Verified Caller IDs
- –ò–ª–∏ upgrade –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

### SMS –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞: `+7XXXXXXXXXX`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–æ–º–µ—Ä –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω (–¥–ª—è Trial)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞

### –û—à–∏–±–∫–∞: "Invalid 'To' Phone Number"
- –ù–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- –ù–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `+`
- –ë–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –∏ –¥–µ—Ñ–∏—Å–æ–≤

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö SMS:
1. **Monitor** ‚Üí **Logs** ‚Üí **Messaging**
2. –ó–¥–µ—Å—å –≤–∏–¥–Ω—ã –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
3. –°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏
4. –°—Ç–æ–∏–º–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ SMS

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env –≤ Git
- –•—Ä–∞–Ω–∏—Ç–µ Auth Token –≤ —Å–µ–∫—Ä–µ—Ç–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ rate limiting –¥–ª—è SMS
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏

## –ì–æ—Ç–æ–≤–æ! üì±

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å SMS-–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º!
